{"version":3,"sources":["Styles/GlobalStyles.js","Styles/Theme.js","Routes/Home/Home.js","Routes/Home/index.js","Hooks/useInput.js","Routes/Watch/Watch.js","Routes/Watch/index.js","Components/App.js","index.js"],"names":["createGlobalStyle","reset","props","bodyFont","color","mainRed","mainBlue","subBlue","creamBlue","Wrapper","styled","div","Input","input","Home","withRouter","history","youtubeURL","defaultValue","useState","value","setValue","onChange","e","target","useInput","onKeyDown","code","url","split","host","pathAndQuery","push","ControlPanel","PlayControl","looping","Button","SaveList","SavedItem","Watch","location","query","setQuery","part","setPart","partList","setPartList","max","setMax","videoStatus","setVideoStatus","setLooping","youtubeRef","useRef","sliderRef","loopRef","useEffect","search","newQuery","slice","forEach","q","t","secondToTime","idx","Math","floor","padStart","handlePlayer","command","yp","current","internalPlayer","playVideo","stopVideo","pauseVideo","handleMakePart","a","getCurrentTime","newTime","handleLoop","seekTo","ref","videoId","v","opts","playerVars","controls","onPlay","console","log","clearInterval","setInterval","onStop","onPause","onStateChange","newMax","getDuration","onClick","xmlns","width","height","viewBox","d","Slider","valueLabelDisplay","aria-labelledby","newValue","valueLabelFormat","min","map","newPart","App","theme","Theme","GlobalStyles","exact","path","component","from","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.65554ead.chunk.js","sourcesContent":["import { createGlobalStyle } from \"styled-components\";\nimport reset from \"styled-reset\";\n\nexport default createGlobalStyle`\n    ${reset};\n    *{\n        box-sizing: border-box;\n    }\n    html, body{\n        height: 100%;\n        width: 100vw;\n        font-size: 16px;\n        /* font-size: ${(props) => props.bodyFont}; */\n        font-family: Arial, Helvetica, sans-serif;\n        /* disable bounce safari/ios */\n        /* position: fixed; */\n    }\n    a{\n        text-decoration: none;\n    }\n    input:focus{\n        outline: none;\n    }\n    input[type=\"range\"]{\n        -webkit-appearance: none;  /* Override default CSS styles */\n        appearance: none;\n        height: 3px;\n        outline: none;\n    }\n    input[type=\"range\"]::-webkit-slider-thumb{\n        -webkit-appearance: none;\n        appearance: none;\n        width: 15px;\n        height: 15px;\n        border-radius: 50%;\n        border: 1px solid #d3d3d3;\n        background: white;\n        cursor: pointer;\n    }\n    input[type=\"range\"]::-moz-range-thumb{\n        \n    }\n`;\n","export default {\n  color: {\n    mainRed: \"#F24B59\",\n    mainBlue: \"#033E8C\",\n    subBlue: \"#385DD9\",\n    creamBlue: \"#99AFF2\",\n  },\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport useInput from \"../../Hooks/useInput\";\nimport { withRouter } from \"react-router-dom\";\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Input = styled.input`\n  width: 800px;\n  height: 40px;\n`;\n\nconst Home = ({ history }) => {\n  const youtubeURL = useInput(\"\");\n\n  const handleInput = (e) => {\n    if (e.code === \"Enter\") {\n      const url = e.target.value.split(\"/\");\n      const host = url[2];\n      const pathAndQuery = url[3];\n      if (host === \"www.youtube.com\") {\n        history.push(\"/\" + pathAndQuery);\n      } else if (host === \"youtu.be\") {\n        history.push(\"/watch?v=\" + pathAndQuery);\n      }\n    }\n  };\n\n  return (\n    <Wrapper>\n      <Input {...youtubeURL} onKeyDown={handleInput} />\n    </Wrapper>\n  );\n};\n\nexport default withRouter(Home);\n","import Home from \"./Home\";\n\nexport default Home;\n","import { useState } from \"react\";\n\nexport default (defaultValue) => {\n  const [value, setValue] = useState(defaultValue);\n\n  const onChange = (e) => {\n    const {\n      target: { value },\n    } = e;\n    setValue(value);\n  };\n\n  return { value, onChange, setValue };\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport Youtube from \"react-youtube\";\nimport styled from \"styled-components\";\n// import Slider from \"../../Components/Slider\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { getVideoInfo } from \"../../utils\";\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ControlPanel = styled.div`\n  width: 50%;\n  height: 500px;\n  border: 2px solid red;\n  padding: 0 20px;\n`;\n\nconst PlayControl = styled.div`\n  width: 100%;\n  height: 60px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  div {\n    font-size: 32px;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n  svg {\n    width: 30px;\n    height: 30px;\n    fill: ${(props) => (props.looping ? \"rgba(0,0,0,1)\" : \"rgba(0,0,0,0.3)\")};\n  }\n`;\n\nconst Button = styled.div`\n  width: 200px;\n  height: 50px;\n  margin: 0 auto;\n  border: 2px solid black;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: transform 0.1s ease-in;\n  &:hover {\n    cursor: pointer;\n    transform: translateY(-5px);\n  }\n`;\n\nconst SaveList = styled.div`\n  width: 100%;\n  height: 800px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst SavedItem = styled.div`\n  width: 100%;\n  height: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 5px;\n  &:hover {\n    cursor: pointer;\n    background-color: yellow;\n  }\n`;\n\nconst Watch = ({ location }) => {\n  const [query, setQuery] = useState({});\n  const [part, setPart] = useState([0, 0]);\n  const [partList, setPartList] = useState([]);\n  const [max, setMax] = useState(0);\n  const [videoStatus, setVideoStatus] = useState(\"stop\");\n  const [looping, setLooping] = useState(false);\n\n  const youtubeRef = useRef();\n  const sliderRef = useRef();\n  const loopRef = useRef();\n\n  useEffect(() => {\n    const { search } = location;\n    const newQuery = {};\n    search\n      .slice(1)\n      .split(/[?&]/g)\n      .forEach((q) => {\n        const t = q.split(\"=\");\n        newQuery[t[0]] = t[1];\n      });\n    setQuery(newQuery);\n  }, [location]);\n\n  // useEffect(() => {\n  //   async function fetchData() {\n  //     const data = await getVideoInfo(query.v);\n  //     console.log(data);\n  //   }\n  //   if (!!query.v) {\n  //     fetchData();\n  //   }\n  // }, [query.v]);\n\n  const handleSliderChange = (e, newValue) => {\n    setPart(newValue);\n    if (looping) {\n      clearInterval(loopRef.current);\n      loopRef.current = setInterval(handleLoop, 1000);\n    }\n  };\n\n  const secondToTime = (value, idx) => {\n    const min = `${Math.floor(value / 60)}`.padStart(2, \"0\");\n    const sec = `${value % 60}`.padStart(2, \"0\");\n    return min + \":\" + sec;\n  };\n\n  const handleSavePart = () => {\n    setPartList([...partList, part]);\n  };\n\n  const handleLoadPart = (newPart) => {\n    setPart(newPart);\n    youtubeRef.current.internalPlayer.seekTo(newPart[0]);\n  };\n\n  const handlePlayer = (command) => {\n    const yp = youtubeRef.current.internalPlayer;\n    switch (command) {\n      case \"play\":\n        setVideoStatus(command);\n        yp.playVideo();\n        break;\n\n      case \"stop\":\n        setVideoStatus(command);\n        yp.stopVideo();\n        break;\n\n      case \"pause\":\n        setVideoStatus(command);\n        yp.pauseVideo();\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleMakePart = async (command) => {\n    const newTime = Math.floor(\n      await youtubeRef.current.internalPlayer.getCurrentTime()\n    );\n    if (command === \"start\") {\n      if (newTime <= part[1]) {\n        setPart([newTime, part[1]]);\n      } else {\n        setPart([newTime, max]);\n      }\n    } else if (command === \"end\") {\n      if (part[0] <= newTime) {\n        setPart([part[0], newTime]);\n      } else {\n        setPart([0, newTime]);\n      }\n    }\n  };\n\n  const handleLoop = async () => {\n    const yp = youtubeRef.current.internalPlayer;\n    const newTime = Math.floor(await yp.getCurrentTime());\n    if (newTime > part[1]) {\n      yp.seekTo(part[0]);\n    } else if (newTime < part[0]) {\n      yp.seekTo(part[0]);\n    }\n  };\n\n  return (\n    <Wrapper>\n      <Youtube\n        ref={youtubeRef}\n        videoId={query.v}\n        opts={{ playerVars: { controls: 1 } }}\n        onPlay={() => {\n          setVideoStatus(\"play\");\n          console.log(\"play\");\n          if (looping) {\n            clearInterval(loopRef.current);\n            loopRef.current = setInterval(handleLoop, 1000);\n          }\n        }}\n        onStop={() => {\n          setVideoStatus(\"stop\");\n          if (looping) {\n            clearInterval(loopRef.current);\n          }\n        }}\n        onPause={() => {\n          setVideoStatus(\"pause\");\n          if (looping) {\n            clearInterval(loopRef.current);\n          }\n        }}\n        onStateChange={(e) => {\n          if (max === 0) {\n            const newMax = Math.floor(e.target.getDuration());\n            setMax(newMax);\n            setPart([0, newMax]);\n          }\n          if (looping) {\n            clearInterval(loopRef.current);\n          }\n        }}\n      />\n      <ControlPanel>\n        <PlayControl looping={looping}>\n          {videoStatus === \"play\" ? (\n            <div\n              onClick={() => {\n                handlePlayer(\"pause\");\n              }}\n            >\n              | |\n            </div>\n          ) : (\n            <div\n              onClick={() => {\n                handlePlayer(\"play\");\n              }}\n            >\n              ▶︎\n            </div>\n          )}\n          <div\n            onClick={() => {\n              handlePlayer(\"stop\");\n            }}\n          >\n            ◼︎\n          </div>\n          <div\n            onClick={() => {\n              handleMakePart(\"start\");\n            }}\n          >\n            [\n          </div>\n          <div\n            onClick={() => {\n              handleMakePart(\"end\");\n            }}\n          >\n            ]\n          </div>\n          <div\n            onClick={() => {\n              if (looping) {\n                setLooping(false);\n                clearInterval(loopRef.current);\n              } else {\n                setLooping(true);\n                clearInterval(loopRef.current);\n                loopRef.current = setInterval(handleLoop, 1000);\n              }\n            }}\n          >\n            {looping ? (\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path d=\"M18 13v5h-5l1.607-1.608c-3.404-2.824-5.642-8.392-9.179-8.392-2.113 0-3.479 1.578-3.479 4s1.365 4 3.479 4c1.664 0 2.86-1.068 4.015-2.392l1.244 1.561c-1.499 1.531-3.05 2.831-5.259 2.831-3.197 0-5.428-2.455-5.428-6s2.231-6 5.428-6c4.839 0 7.34 6.449 10.591 8.981l1.981-1.981zm.57-7c-2.211 0-3.762 1.301-5.261 2.833l1.244 1.561c1.156-1.325 2.352-2.394 4.017-2.394 2.114 0 3.48 1.578 3.48 4 0 1.819-.771 3.162-2.051 3.718v2.099c2.412-.623 4-2.829 4-5.816.001-3.546-2.231-6.001-5.429-6.001z\" />\n              </svg>\n            ) : (\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path d=\"M18 13v5h-5l1.607-1.608c-3.404-2.824-5.642-8.392-9.179-8.392-2.113 0-3.479 1.578-3.479 4s1.365 4 3.479 4c1.664 0 2.86-1.068 4.015-2.392l1.244 1.561c-1.499 1.531-3.05 2.831-5.259 2.831-3.197 0-5.428-2.455-5.428-6s2.231-6 5.428-6c4.839 0 7.34 6.449 10.591 8.981l1.981-1.981zm.57-7c-2.211 0-3.762 1.301-5.261 2.833l1.244 1.561c1.156-1.325 2.352-2.394 4.017-2.394 2.114 0 3.48 1.578 3.48 4 0 1.819-.771 3.162-2.051 3.718v2.099c2.412-.623 4-2.829 4-5.816.001-3.546-2.231-6.001-5.429-6.001z\" />\n              </svg>\n            )}\n          </div>\n        </PlayControl>\n        <Slider\n          value={part}\n          valueLabelDisplay=\"auto\"\n          aria-labelledby=\"range-slider\"\n          onChange={handleSliderChange}\n          valueLabelFormat={secondToTime}\n          max={max}\n          min={0}\n          ref={sliderRef}\n        />\n        <Button onClick={handleSavePart}>Save</Button>\n        <SaveList>\n          {partList.map((part, idx) => {\n            return (\n              <SavedItem\n                key={idx}\n                onClick={() => {\n                  handleLoadPart(part);\n                }}\n              >\n                {secondToTime(part[0])} - {secondToTime(part[1])}\n              </SavedItem>\n            );\n          })}\n        </SaveList>\n      </ControlPanel>\n    </Wrapper>\n  );\n};\n\nexport default withRouter(Watch);\n","import Watch from \"./Watch\";\n\nexport default Watch;\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from \"react-router-dom\";\nimport { ThemeProvider } from \"styled-components\";\nimport GlobalStyles from \"../Styles/GlobalStyles\";\nimport Theme from \"../Styles/Theme\";\nimport Home from \"../Routes/Home\";\nimport Watch from \"../Routes/Watch\";\n\nconst App = () => {\n  return (\n    <ThemeProvider theme={Theme}>\n      <GlobalStyles />\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={Home}></Route>\n          <Route path=\"/watch\" component={Watch}></Route>\n          <Redirect from=\"*\" to=\"/\" />\n        </Switch>\n      </Router>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}